Actually instead of simply having some command reading and splitting we could have a more sophisticated parser that will read commands, parse them and return them as structured objects that will be easier to use rather than arrays of strings. This will allow to have more flexible and evolving commands and to be able to make the syntax evolving more naturally. This should definitely be considered as the best solution to develop the command parser, to have an antlr grammar that describes the complete input language of the uppaal interpreter and that use these commands to perform actions on the backhand uppaal context constituted of a document, a list of queries and an engine.

Of course we should also consider parsing errors that will raize some exceptions. Using a dedicated parser will enable to detect these errors directly at parsing time and to avoid to do some handler matching, this should definitely be the best solution to avoid hhaving multiple checks to see if the command is correct in the different command handlers. Then some semantical controls will be performed on the type of commands, for instance in edition mode we will only enable editing, loading and saving commands, in simulation mode we will only enable simulation commands and in checking mode we will only enable checking commands such as check or save to save a result.